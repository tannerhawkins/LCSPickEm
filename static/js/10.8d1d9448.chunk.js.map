{"version":3,"sources":["data/constants.js","data/firebase.js","components/Template/Button.js","images/white mtn.png","app/account/actions.js","app/class/actions.js","components/Authentication/Header.js","pages/LogIn/SignIn.js"],"names":["Constants","COLOR","LIGHT_GREEN","DARK_GREEN","GREEN","WHITE","DARK_BLUE","TEAL","GRAY","HEADER_HEIGHT","SIDEBAR_WIDTH","EMPTY_MODULE","title","description","public","creator","undefined","steps","MOCK_MODULE","type","data","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","auth","GoogleAuthProvider","userDataDb","collection","classDataDb","modulesDb","StyledButton","styled","div","signIn","user","payload","setCurrentClass","classNumber","StyledHeader","header","StyledButtonContainer","HeaderName","StyledLogo","img","StyledLogoContainer","StyledHelpButton","Header","history","useHistory","id","onClick","push","src","Logo","MainContainer","StyledTitle","StyledForm","form","StyledInput","input","StyledEmailInput","StyledForgotButton","p","StyledSignUpButton","StyledSubmitButton","Button","StyledError","SignIn","errorMessage","setErrorMessage","useState","dispatch","useDispatch","placeholder","name","required","Object","values","document","forms","signInForm","reduce","obj","field","value","email","includes","signInWithEmailAndPassword","password","then","doc","currentUser","uid","get","classList","length","cid","result","catch","error","code","message"],"mappings":"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","file":"static/js/10.8d1d9448.chunk.js","sourcesContent":["export const Constants = {\n  COLOR: {\n    LIGHT_GREEN: \"#A2E1D0\",\n    DARK_GREEN: \"#6BAE9B\",\n    GREEN: \"#7DCBB5\",\n    WHITE: \"#e9e9ff\",\n    DARK_BLUE: \"#373B53\",\n    TEAL: \"#B5FFEA\",\n    GRAY: \"#E5E5E5\",\n  },\n  HEADER_HEIGHT: \"80px\",\n  SIDEBAR_WIDTH: \"80px\",\n  EMPTY_MODULE: {\n    title: \"\",\n    description: \"\",\n    public: true,\n    creator: undefined,\n    steps: [],\n  },\n  MOCK_MODULE: {\n    title: \"Mock Module\",\n    description: \"This module is used for testing and development\",\n    public: true,\n    creator: \"someteacherIDhere\",\n    steps: [\n      {\n        type: \"text\",\n        data: {\n          // Some kind of text data here (title, description, etc.)\n        },\n      },\n      {\n        type: \"video\",\n        data: {\n          // Some kind of reference to a video stored somewhere in Firebase and maybe a video title\n        },\n      },\n      {\n        type: \"quiz\",\n        data: {\n          // Some kind of quiz data here (array of questions, title, etc.)\n        },\n      },\n    ],\n  },\n};\n","// Import the functions you need from the SDKs you need\nimport firebase from \"firebase\";\nimport { collection, query, where, getDocs } from \"firebase/firestore\";\n\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n  apiKey: \"AIzaSyBikWf9vy86sF9wXyRjkpdrrAJaw7WoQ8M\",\n  authDomain: \"ancient-path-adventures.firebaseapp.com\",\n  projectId: \"ancient-path-adventures\",\n  storageBucket: \"ancient-path-adventures.appspot.com\",\n  messagingSenderId: \"1051282870332\",\n  appId: \"1:1051282870332:web:8f7a5922db7d370e86b339\",\n  measurementId: \"G-NPPQJQTEQN\",\n};\n\n// Initialize Firebase\nconst app = firebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\n\nvar auth = firebase.auth();\nvar provider = new firebase.auth.GoogleAuthProvider();\n\nexport const userDataDb = db.collection(\"userData\");\nexport const classDataDb = db.collection(\"classData\");\nexport const modulesDb = db.collection(\"modules\");\n\nexport const getAllModules = async () => {\n  const modules = await modulesDb.get();\n  return modules.docs.map((doc) => doc.data());\n};\n\nexport { auth, provider };\n","import { Constants } from \"../../data/constants\";\nimport styled from \"styled-components\";\n\nconst StyledButton = styled.div`\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  color: white;\n  font-weight: bold;\n  &:hover {\n    filter: brightness(110%);\n    cursor: pointer;\n  }\n`;\n\nexport default StyledButton;\n","export default __webpack_public_path__ + \"static/media/white mtn.bb2904a1.png\";","import { useDispatch } from \"react-redux\";\nimport { auth, userDataDb } from \"../../data/firebase\";\n\nexport const signIn = (user) => {\n  return {\n    type: \"SIGN_IN\",\n    payload: user,\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: \"SIGN_OUT\",\n  };\n};\n\nexport const updateClassList = (classList) => {\n  return {\n    type: \"UPDATE_CLASS_LIST\",\n    payload: classList,\n  };\n};\n\nexport const refreshAccountData = () => {\n  const dispatch = useDispatch();\n\n  userDataDb\n    .doc(auth.currentUser.uid)\n    .get()\n    .then((doc) => dispatch(signIn(doc.data())));\n};\n","import { classDataDb } from \"../../data/firebase\";\n\nexport const setCurrentClass = (classNumber) => {\n  return {\n    type: \"SET_CURRENT_CLASS\",\n    payload: classNumber,\n  };\n};\n\nexport const addModule = (module) => {\n  return {\n    type: \"ADD_MODULE\",\n    payload: module,\n  };\n};\n\nexport const refreshClassData = (currentClass) => {\n  classDataDb\n    .doc(currentClass?.cid)\n    .get()\n    .then((doc) => setCurrentClass(doc.data()));\n};\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Constants } from \"../../data/constants\";\r\nimport StyledButton from \"../Template/Button\";\r\nimport Logo from \"../../images/white mtn.png\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst Header = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <StyledHeader id=\"header\">\r\n      <StyledLogoContainer onClick={() => history.push(`/home`)}>\r\n        <StyledLogo src={Logo} />\r\n        <HeaderName>Ancient Path Adventures</HeaderName>\r\n      </StyledLogoContainer>\r\n      <StyledButtonContainer>\r\n        <StyledHelpButton>HELP</StyledHelpButton>\r\n      </StyledButtonContainer>\r\n    </StyledHeader>\r\n  );\r\n};\r\n\r\nconst StyledHeader = styled.header`\r\n  display: flex;\r\n  background-color: ${Constants.COLOR.LIGHT_GREEN};\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: ${Constants.HEADER_HEIGHT};\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  z-index: 100000;\r\n`;\r\n\r\nconst StyledButtonContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 3%;\r\n`;\r\n\r\nconst HeaderName = styled.div`\r\n  font-family: Playball;\r\n  color: white;\r\n  white-space: nowrap;\r\n  margin-left: 30px;\r\n  font-size: 30px;\r\n  font-weight: bold;\r\n  text-shadow: 0px 2px 2px rgba(0, 0, 0, 0.25);\r\n  @media (max-width: 800px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StyledLogo = styled.img`\r\n  margin-left: 3%;\r\n  width: 130px;\r\n`;\r\n\r\nconst StyledLogoContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 3%;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledHelpButton = styled(StyledButton)`\r\n  margin-right: 10px;\r\n  box-shadow: none;\r\n  height: 10px;\r\n`;\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport Main from \"../../layouts/Main\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../../components/Authentication/Header\";\r\nimport { Constants } from \"../../data/constants\";\r\nimport Button from \"../../components/Template/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { auth, classDataDb, userDataDb } from \"../../data/firebase\";\r\nimport { signIn } from \"../../app/account/actions.js\";\r\nimport { setCurrentClass } from \"../../app/class/actions\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst SignIn = () => {\r\n  const history = useHistory();\r\n  const [errorMessage, setErrorMessage] = useState();\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = () => {\r\n    setErrorMessage();\r\n\r\n    // get sign up form data\r\n    const data = Object.values(document.forms.signInForm).reduce(\r\n      (obj, field) => {\r\n        obj[field.name] = field.value;\r\n        return obj;\r\n      },\r\n      {}\r\n    );\r\n\r\n    // checks all fields are filled out\r\n    for (var value in data) {\r\n      if (data[value] === \"\") {\r\n        setErrorMessage(\"Please fill out all fields\");\r\n        return;\r\n      }\r\n    }\r\n    if (!data.email.includes(\"@\")) {\r\n      setErrorMessage(\"Please enter valid email address\");\r\n      return;\r\n    }\r\n\r\n    auth\r\n      .signInWithEmailAndPassword(data.email, data.password)\r\n      .then(() => {\r\n        userDataDb\r\n          .doc(auth.currentUser.uid)\r\n          .get()\r\n          .then((doc) => {\r\n            dispatch(signIn(doc.data()));\r\n            if (doc.data().classList.length !== 0) {\r\n              classDataDb\r\n                .doc(doc.data().classList[0].cid)\r\n                .get()\r\n                .then((result) => dispatch(setCurrentClass(result.data())));\r\n            } else {\r\n              dispatch(setCurrentClass(null));\r\n            }\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        if (error.code === \"auth/user-not-found\") {\r\n          setErrorMessage(\"A user with this email address does not exist\");\r\n        } else if (error.code === \"auth/wrong-password\") {\r\n          setErrorMessage(\"The password is invalid.\");\r\n        } else {\r\n          setErrorMessage(error.message);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Main title={\"Sign-In\"} description={\"Sign-In\"}>\r\n      <Header />\r\n      <MainContainer>\r\n        <StyledTitle>Sign-In</StyledTitle>\r\n        <StyledForm id=\"signInForm\">\r\n          <StyledEmailInput\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            required\r\n          />\r\n          <StyledInput\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            required\r\n          />\r\n          <StyledForgotButton>Did you forget your password?</StyledForgotButton>\r\n          <StyledError>{errorMessage}</StyledError>\r\n          <StyledButtonContainer>\r\n            <StyledSubmitButton type=\"submit\" onClick={handleSubmit}>\r\n              SIGN-IN\r\n            </StyledSubmitButton>\r\n            <StyledSignUpButton\r\n              onClick={() => history.push(`/signup`)}\r\n            >\r\n              Don't have an account? Donâ€™t worry! Sign up here\r\n            </StyledSignUpButton>\r\n          </StyledButtonContainer>\r\n        </StyledForm>\r\n        {/* <StyledOrContainer>\r\n      <StyledLine />\r\n      <p>OR</p>\r\n      <StyledLine />\r\n    </StyledOrContainer>\r\n    <LoginWithGoogle /> */}\r\n      </MainContainer>\r\n    </Main>\r\n  );\r\n};\r\n\r\nconst MainContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  padding-top: 50px;\r\n  height: calc(100vh - ${Constants.HEADER_HEIGHT});\r\n`;\r\n\r\nconst StyledButtonContainer = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst StyledTitle = styled.header`\r\n  font-weight: bold;\r\n  font-size: 64px;\r\n`;\r\n\r\nconst StyledForm = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  outline: none;\r\n  width: 90%;\r\n  max-width: 600px;\r\n`;\r\n\r\nconst StyledInput = styled.input`\r\n  border: none;\r\n  border-bottom: 1px solid black;\r\n  height: 60px;\r\n  font-size: 30px;\r\n  outline: none;\r\n`;\r\n\r\nconst StyledEmailInput = styled(StyledInput)`\r\n  margin-bottom: 60px;\r\n`;\r\n\r\nconst StyledForgotButton = styled.p`\r\n  text-align: right;\r\n  font-size: 18px;\r\n  margin-bottom: 30px;\r\n  color: ${Constants.COLOR.LIGHT_GREEN};\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    color: ${Constants.COLOR.DARK_GREEN};\r\n  }\r\n`;\r\n\r\nconst StyledSignUpButton = styled.p`\r\n  text-align: right;\r\n  font-size: 18px;\r\n  width: 55%;\r\n  margin-bottom: 30px;\r\n  color: red;\r\n\r\n  &:hover {\r\n    cursor: pointer;\r\n    color: #ff8585;\r\n  }\r\n`;\r\n\r\nconst StyledSubmitButton = styled(Button)`\r\n  font-size: 25px;\r\n  height: 70px;\r\n  width: 20%;\r\n  min-width: 100px;\r\n  background-color: ${Constants.COLOR.DARK_GREEN};\r\n  &:hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst StyledLine = styled.div`\r\n  display: inline-block;\r\n  border-bottom: 1px solid black;\r\n  margin: 0px 10px;\r\n  width: 15%;\r\n`;\r\n\r\nconst StyledOrContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 90%;\r\n`;\r\n\r\nconst StyledError = styled.p`\r\n  color: red;\r\n  margin-top: -20px;\r\n`;\r\n\r\nexport default SignIn;\r\n"],"sourceRoot":""}